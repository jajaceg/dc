blok(1, 1) :- liczba(1), indeks_bloku(1), not nie_w_bloku(1,1).
1 :- 2, 5, 7.
blok(1, 2) :- liczba(1), indeks_bloku(2), not nie_w_bloku(1,2).
blok(1, 3) :- liczba(1), indeks_bloku(3), not nie_w_bloku(1,3).
blok(2, 1) :- liczba(2), indeks_bloku(1), not nie_w_bloku(2,1).
blok(2, 2) :- liczba(2), indeks_bloku(2), not nie_w_bloku(2,2).
blok(2, 3) :- liczba(2), indeks_bloku(3), not nie_w_bloku(2,3).
blok(3, 1) :- liczba(3), indeks_bloku(1), not nie_w_bloku(3,1).
blok(3, 2) :- liczba(3), indeks_bloku(2), not nie_w_bloku(3,2).
blok(3, 3) :- liczba(3), indeks_bloku(3), not nie_w_bloku(3,3).

nie_w_bloku(1,1) :- not blok(1, 1), liczba(1), indeks_bloku(1).
nie_w_bloku(1,2) :- not blok(1, 2), liczba(1), indeks_bloku(2).
nie_w_bloku(1,3) :- not blok(1, 3), liczba(1), indeks_bloku(3).
nie_w_bloku(2,1) :- not blok(2, 1), liczba(2), indeks_bloku(1).
nie_w_bloku(2,2) :- not blok(2, 2), liczba(2), indeks_bloku(2).
nie_w_bloku(2,3) :- not blok(2, 3), liczba(2), indeks_bloku(3).
nie_w_bloku(3,1) :- not blok(3, 1), liczba(3), indeks_bloku(1).
nie_w_bloku(3,2) :- not blok(3, 2), liczba(3), indeks_bloku(2).
nie_w_bloku(3,3) :- not blok(3, 3), liczba(3), indeks_bloku(3).

jest_w_bloku(1) :- indeks_bloku(1), blok(1, 1).
jest_w_bloku(2) :- indeks_bloku(1), blok(2, 1).
jest_w_bloku(3) :- indeks_bloku(1), blok(3, 1).
jest_w_bloku(4) :- indeks_bloku(1), blok(4, 1).
jest_w_bloku(5) :- indeks_bloku(1), blok(5, 1).
jest_w_bloku(1) :- indeks_bloku(2), blok(1, 2).
jest_w_bloku(2) :- indeks_bloku(2), blok(2, 2).
jest_w_bloku(3) :- indeks_bloku(2), blok(3, 2).
jest_w_bloku(4) :- indeks_bloku(2), blok(4, 2).
jest_w_bloku(5) :- indeks_bloku(2), blok(5, 2).
jest_w_bloku(1) :- indeks_bloku(3), blok(1, 3).
jest_w_bloku(2) :- indeks_bloku(3), blok(2, 3).
jest_w_bloku(3) :- indeks_bloku(3), blok(3, 3).
jest_w_bloku(4) :- indeks_bloku(3), blok(4, 3).
jest_w_bloku(5) :- indeks_bloku(3), blok(5, 3).

:- liczba(1), not jest_w_bloku(1).
:- liczba(2), not jest_w_bloku(2).
:- liczba(3), not jest_w_bloku(3).
:- liczba(4), not jest_w_bloku(4).
:- liczba(5), not jest_w_bloku(5).

:- liczba(L), indeks_bloku(I1), indeks_bloku(I2), I1 != I2, blok(L, I1), blok(L, I2).

:- liczba(1), indeks_bloku(1), indeks_bloku(2), blok(1, 1), blok(1, 2).
:- liczba(1), indeks_bloku(1), indeks_bloku(3), blok(1, 1), blok(1, 3).
:- liczba(1), indeks_bloku(1), indeks_bloku(4), blok(1, 1), blok(1, 4).
:- liczba(1), indeks_bloku(1), indeks_bloku(5), blok(1, 1), blok(1, 5).
etc.

blok_ma_jakas_liczbe(1) :- liczba(1), blok(1, 1).
blok_ma_jakas_liczbe(1) :- liczba(2), blok(2, 1).
blok_ma_jakas_liczbe(1) :- liczba(3), blok(3, 1).
blok_ma_jakas_liczbe(1) :- liczba(4), blok(4, 1).
blok_ma_jakas_liczbe(1) :- liczba(5), blok(5, 1).
blok_ma_jakas_liczbe(2) :- liczba(1), blok(1, 2).
blok_ma_jakas_liczbe(2) :- liczba(2), blok(2, 2).
blok_ma_jakas_liczbe(2) :- liczba(3), blok(3, 2).
blok_ma_jakas_liczbe(2) :- liczba(4), blok(4, 2).
blok_ma_jakas_liczbe(2) :- liczba(5), blok(5, 2).
blok_ma_jakas_liczbe(3) :- liczba(1), blok(1, 3).
blok_ma_jakas_liczbe(3) :- liczba(2), blok(2, 3).
blok_ma_jakas_liczbe(3) :- liczba(3), blok(3, 3).
blok_ma_jakas_liczbe(3) :- liczba(4), blok(4, 3).
blok_ma_jakas_liczbe(3) :- liczba(5), blok(5, 3).

:- indeks_bloku(1), not blok_ma_jakas_liczbe(1).
:- indeks_bloku(2), not blok_ma_jakas_liczbe(2).
:- indeks_bloku(3), not blok_ma_jakas_liczbe(3).

:- liczba(X), liczba(Y), liczba(Z), Z = X + Y, indeks_bloku(I), blok(X, I), blok(Y, I), blok(Z, I). 
etc.